scalar Unknown
scalar DateTime
scalar Attachment
scalar Address
scalar Amount_Tokens
scalar EthereumAddress
scalar EmailAddress
scalar Amount_Percentage
scalar Date
scalar URL
scalar Amount_Money
scalar OLabel
scalar Currency
scalar PHID
scalar OID
scalar Amount_Fiat
scalar Amount_Currency
scalar Amount_Crypto
scalar Amount
scalar Upload

type ServiceSubscriptionState {
    id: PHID!
    customerId: PHID!
    serviceOfferingId: PHID!
    resourceTemplateId: PHID!
    selectedTierId: OID!
    status: SubscriptionStatus!
    pricing: SubscriptionPricing
    selectedAddons: [SelectedAddon!]!
    facetSelections: [FacetSelection!]!
    startDate: DateTime
    currentPeriodStart: DateTime
    currentPeriodEnd: DateTime
    cancelledAt: DateTime
    cancellationReason: String
    createdAt: DateTime!
    lastModified: DateTime!
}

enum SubscriptionStatus {
    PENDING
    ACTIVE
    PAUSED
    CANCELLED
    EXPIRED
}

type SubscriptionPricing {
    amount: Amount_Money!
    currency: Currency!
    billingCycle: BillingCycle!
    setupFee: Amount_Money
}

enum BillingCycle {
    MONTHLY
    QUARTERLY
    SEMI_ANNUAL
    ANNUAL
    ONE_TIME
}

type SelectedAddon {
    id: OID!
    optionGroupId: OID!
    addedAt: DateTime!
}

type FacetSelection {
    id: OID!
    categoryKey: String!
    selectedOptionId: String!
}

# Subscription Management

input InitializeSubscriptionInput {
    id: PHID!
    customerId: PHID!
    serviceOfferingId: PHID!
    resourceTemplateId: PHID!
    selectedTierId: OID!
    createdAt: DateTime!
    lastModified: DateTime!
}

input UpdateSubscriptionStatusInput {
    status: SubscriptionStatus!
    lastModified: DateTime!
}

input ActivateSubscriptionInput {
    startDate: DateTime!
    currentPeriodStart: DateTime!
    currentPeriodEnd: DateTime!
    lastModified: DateTime!
}

input CancelSubscriptionInput {
    cancelledAt: DateTime!
    reason: String
    lastModified: DateTime!
}

input RenewSubscriptionInput {
    periodStart: DateTime!
    periodEnd: DateTime!
    lastModified: DateTime!
}

# Tier Selection

input ChangeTierInput {
    newTierId: OID!
    lastModified: DateTime!
}

input SetPricingInput {
    amount: Amount_Money!
    currency: Currency!
    billingCycle: BillingCycle!
    setupFee: Amount_Money
    lastModified: DateTime!
}

# Add-on Management

input AddAddonInput {
    id: OID!
    optionGroupId: OID!
    addedAt: DateTime!
    lastModified: DateTime!
}

input RemoveAddonInput {
    id: OID!
    lastModified: DateTime!
}

# Facet Selection

input SetFacetSelectionInput {
    id: OID!
    categoryKey: String!
    selectedOptionId: String!
    lastModified: DateTime!
}

input RemoveFacetSelectionInput {
    categoryKey: String!
    lastModified: DateTime!
}