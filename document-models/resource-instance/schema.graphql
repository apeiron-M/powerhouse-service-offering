scalar Amount_Tokens
scalar EthereumAddress
scalar Amount_Percentage
scalar EmailAddress
scalar Date
scalar DateTime
scalar URL
scalar Amount_Money
scalar OLabel
scalar Currency
scalar PHID
scalar OID
scalar Amount_Fiat
scalar Amount_Currency
scalar Amount_Crypto
scalar Amount
scalar Upload
type ResourceInstanceState {
    id: PHID!
    subscriptionId: PHID!
    resourceTemplateId: PHID!
    customerId: PHID!
    name: String!
    status: InstanceStatus!
    configuration: [InstanceConfiguration!]!
    usageMetrics: [UsageMetric!]!
    activatedAt: DateTime
    suspendedAt: DateTime
    suspensionReason: String
    terminatedAt: DateTime
    terminationReason: String
    createdAt: DateTime!
    lastModified: DateTime!
}

enum InstanceStatus {
    PROVISIONING
    ACTIVE
    SUSPENDED
    TERMINATED
    ERROR
}

type InstanceConfiguration {
    id: OID!
    key: String!
    value: String!
    source: ConfigSource!
}

enum ConfigSource {
    FACET_SELECTION
    TIER_DEFAULT
    CUSTOMER_INPUT
    SYSTEM
}

type UsageMetric {
    id: OID!
    metricKey: String!
    currentValue: Int!
    limit: Int
    resetPeriod: ResetPeriod
    lastUpdated: DateTime!
}

enum ResetPeriod {
    HOURLY
    DAILY
    WEEKLY
    MONTHLY
    QUARTERLY
    SEMI_ANNUAL
    ANNUAL
}



# Instance Management

input InitializeInstanceInput {
    id: PHID!
    subscriptionId: PHID!
    resourceTemplateId: PHID!
    customerId: PHID!
    name: String!
    createdAt: DateTime!
    lastModified: DateTime!
}

input UpdateInstanceStatusInput {
    status: InstanceStatus!
    lastModified: DateTime!
}

input ActivateInstanceInput {
    activatedAt: DateTime!
    lastModified: DateTime!
}

input SuspendInstanceInput {
    suspendedAt: DateTime!
    reason: String
    lastModified: DateTime!
}

input TerminateInstanceInput {
    terminatedAt: DateTime!
    reason: String
    lastModified: DateTime!
}

input UpdateInstanceNameInput {
    name: String!
    lastModified: DateTime!
}

# Configuration Management

input SetConfigurationInput {
    id: OID!
    key: String!
    value: String!
    source: ConfigSource!
    lastModified: DateTime!
}

input RemoveConfigurationInput {
    key: String!
    lastModified: DateTime!
}

# Usage Tracking

input RecordUsageInput {
    id: OID!
    metricKey: String!
    value: Int!
    limit: Int
    resetPeriod: ResetPeriod
    recordedAt: DateTime!
    lastModified: DateTime!
}

input ResetUsageInput {
    metricKey: String!
    resetAt: DateTime!
    lastModified: DateTime!
}